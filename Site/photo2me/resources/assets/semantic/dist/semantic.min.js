 /*
 * # Semantic UI - 2.2.4
 * https://github.com/Semantic-Org/Semantic-UI
 * http://www.semantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,n,o,t){e.site=e.fn.site=function(i){var s,r,a=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),f=e.isPlainObject(i)?e.extend(!0,{},e.site.settings,i):e.extend({},e.site.settings),m=f.namespace,b=f.error,g="module-"+m,p=e(o),h=p,v=this,y=h.data(g);return s={initialize:function(){s.instantiate()},instantiate:function(){s.verbose("Storing instance of site",s),y=s,h.data(g,s)},normalize:function(){s.fix.console(),s.fix.requestAnimationFrame()},fix:{console:function(){s.debug("Normalizing window.console"),console!==t&&console.log!==t||(s.verbose("Console not available, normalizing events"),s.disable.console()),"undefined"!=typeof console.group&&"undefined"!=typeof console.groupEnd&&"undefined"!=typeof console.groupCollapsed||(s.verbose("Console group not available, normalizing events"),n.console.group=function(){},n.console.groupEnd=function(){},n.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(s.verbose("Mark timeline not available, normalizing events"),n.console.markTimeline=function(){})},consoleClear:function(){s.debug("Disabling programmatic console clearing"),n.console.clear=function(){}},requestAnimationFrame:function(){s.debug("Normalizing requestAnimationFrame"),n.requestAnimationFrame===t&&(s.debug("RequestAnimationFrame not available, normalizing event"),n.requestAnimationFrame=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(n){return e.fn[n]!==t&&e.fn[n].settings!==t},enabled:{modules:function(n){var o=[];return n=n||f.modules,e.each(n,function(e,n){s.moduleExists(n)&&o.push(n)}),o}},disabled:{modules:function(n){var o=[];return n=n||f.modules,e.each(n,function(e,n){s.moduleExists(n)||o.push(n)}),o}},change:{setting:function(n,o,i,r){i="string"==typeof i?"all"===i?f.modules:[i]:i||f.modules,r=r===t||r,e.each(i,function(t,i){var a,c=!s.moduleExists(i)||(e.fn[i].settings.namespace||!1);s.moduleExists(i)&&(s.verbose("Changing default setting",n,o,i),e.fn[i].settings[n]=o,r&&c&&(a=e(":data(module-"+c+")"),a.length>0&&(s.verbose("Modifying existing settings",a),a[i]("setting",n,o))))})},settings:function(n,o,i){o="string"==typeof o?[o]:o||f.modules,i=i===t||i,e.each(o,function(o,t){var r;s.moduleExists(t)&&(s.verbose("Changing default setting",n,t),e.extend(!0,e.fn[t].settings,n),i&&m&&(r=e(":data(module-"+m+")"),r.length>0&&(s.verbose("Modifying existing settings",r),r[t]("setting",n))))})}},enable:{console:function(){s.console(!0)},debug:function(e,n){e=e||f.modules,s.debug("Enabling debug for modules",e),s.change.setting("debug",!0,e,n)},verbose:function(e,n){e=e||f.modules,s.debug("Enabling verbose debug for modules",e),s.change.setting("verbose",!0,e,n)}},disable:{console:function(){s.console(!1)},debug:function(e,n){e=e||f.modules,s.debug("Disabling debug for modules",e),s.change.setting("debug",!1,e,n)},verbose:function(e,n){e=e||f.modules,s.debug("Disabling verbose debug for modules",e),s.change.setting("verbose",!1,e,n)}},console:function(e){if(e){if(y.cache.console===t)return void s.error(b.console);s.debug("Restoring console function"),n.console=y.cache.console}else s.debug("Disabling console function"),y.cache.console=n.console,n.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){s.verbose("Destroying previous site for",h),h.removeData(g)},cache:{},setting:function(n,o){if(e.isPlainObject(n))e.extend(!0,f,n);else{if(o===t)return f[n];f[n]=o}},internal:function(n,o){if(e.isPlainObject(n))e.extend(!0,s,n);else{if(o===t)return s[n];s[n]=o}},debug:function(){f.debug&&(f.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,f.name+":"),s.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,f.name+":"),s.error.apply(console,arguments)},performance:{log:function(e){var n,o,t;f.performance&&(n=(new Date).getTime(),t=a||n,o=n-t,a=n,c.push({Element:v,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":o})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var n=f.name+":",o=0;a=!1,clearTimeout(s.performance.timer),e.each(c,function(e,n){o+=n["Execution Time"]}),n+=" "+o+"ms",(console.group!==t||console.table!==t)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(n,o,i){var a,c,l,u=y;return o=o||d,i=v||i,"string"==typeof n&&u!==t&&(n=n.split(/[\. ]/),a=n.length-1,e.each(n,function(o,i){var r=o!=a?i+n[o+1].charAt(0).toUpperCase()+n[o+1].slice(1):n;if(e.isPlainObject(u[r])&&o!=a)u=u[r];else{if(u[r]!==t)return c=u[r],!1;if(!e.isPlainObject(u[i])||o==a)return u[i]!==t?(c=u[i],!1):(s.error(b.method,n),!1);u=u[i]}})),e.isFunction(c)?l=c.apply(i,o):c!==t&&(l=c),e.isArray(r)?r.push(l):r!==t?r=[r,l]:l!==t&&(r=l),c}},u?(y===t&&s.initialize(),s.invoke(l)):(y!==t&&s.destroy(),s.initialize()),r!==t?r:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(n){return function(o){return!!e.data(o,n)}}):function(n,o,t){return!!e.data(n,t[3])}})}(jQuery,window,document),function(e,n,o,t){"use strict";n="undefined"!=typeof n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sidebar=function(i){var s,r=e(this),a=e(n),c=e(o),l=e("html"),u=e("head"),d=r.selector||"",f=(new Date).getTime(),m=[],b=arguments[0],g="string"==typeof b,p=[].slice.call(arguments,1),h=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var r,v,y,x,C,P,k=e.isPlainObject(i)?e.extend(!0,{},e.fn.sidebar.settings,i):e.extend({},e.fn.sidebar.settings),T=k.selector,S=k.className,w=k.namespace,A=k.regExp,R=k.error,O="."+w,F="module-"+w,V=e(this),z=e(k.context),E=V.children(T.sidebar),M=z.children(T.fixed),D=z.children(T.pusher),j=this,B=V.data(F);P={initialize:function(){P.debug("Initializing sidebar",i),P.create.id(),C=P.get.transitionEvent(),P.is.ios()&&P.set.ios(),k.delaySetup?h(P.setup.layout):P.setup.layout(),h(function(){P.setup.cache()}),P.instantiate()},instantiate:function(){P.verbose("Storing instance of module",P),B=P,V.data(F,P)},create:{id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),v="."+y,P.verbose("Creating unique id for element",y)}},destroy:function(){P.verbose("Destroying previous module for",V),V.off(O).removeData(F),P.is.ios()&&P.remove.ios(),z.off(v),a.off(v),c.off(v)},event:{clickaway:function(e){var n=D.find(e.target).length>0||D.is(e.target),o=z.is(e.target);n&&(P.verbose("User clicked on dimmed page"),P.hide()),o&&(P.verbose("User clicked on dimmable context (scaled out page)"),P.hide())},touch:function(e){},containScroll:function(e){j.scrollTop<=0&&(j.scrollTop=1),j.scrollTop+j.offsetHeight>=j.scrollHeight&&(j.scrollTop=j.scrollHeight-j.offsetHeight-1)},scroll:function(n){0===e(n.target).closest(T.sidebar).length&&n.preventDefault()}},bind:{clickaway:function(){P.verbose("Adding clickaway events to context",z),k.closable&&z.on("click"+v,P.event.clickaway).on("touchend"+v,P.event.clickaway)},scrollLock:function(){k.scrollLock&&(P.debug("Disabling page scroll"),a.on("DOMMouseScroll"+v,P.event.scroll)),P.verbose("Adding events to contain sidebar scroll"),c.on("touchmove"+v,P.event.touch),V.on("scroll"+O,P.event.containScroll)}},unbind:{clickaway:function(){P.verbose("Removing clickaway events from context",z),z.off(v)},scrollLock:function(){P.verbose("Removing scroll lock from page"),c.off(v),a.off(v),V.off("scroll"+O)}},add:{inlineCSS:function(){var n,o=P.cache.width||V.outerWidth(),t=P.cache.height||V.outerHeight(),i=P.is.rtl(),s=P.get.direction(),a={left:o,right:-o,top:t,bottom:-t};i&&(P.verbose("RTL detected, flipping widths"),a.left=-o,a.right=o),n="<style>","left"===s||"right"===s?(P.debug("Adding CSS rules for animation distance",o),n+=" .ui.visible."+s+".sidebar ~ .fixed, .ui.visible."+s+".sidebar ~ .pusher {   -webkit-transform: translate3d("+a[s]+"px, 0, 0);           transform: translate3d("+a[s]+"px, 0, 0); }"):"top"!==s&&"bottom"!=s||(n+=" .ui.visible."+s+".sidebar ~ .fixed, .ui.visible."+s+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+a[s]+"px, 0);           transform: translate3d(0, "+a[s]+"px, 0); }"),P.is.ie()&&("left"===s||"right"===s?(P.debug("Adding CSS rules for animation distance",o),n+=" body.pushable > .ui.visible."+s+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+a[s]+"px, 0, 0);           transform: translate3d("+a[s]+"px, 0, 0); }"):"top"!==s&&"bottom"!=s||(n+=" body.pushable > .ui.visible."+s+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+a[s]+"px, 0);           transform: translate3d(0, "+a[s]+"px, 0); }"),n+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),n+="</style>",r=e(n).appendTo(u),P.debug("Adding sizing css to head",r)}},refresh:function(){P.verbose("Refreshing selector cache"),z=e(k.context),E=z.children(T.sidebar),D=z.children(T.pusher),M=z.children(T.fixed),P.clear.cache()},refreshSidebars:function(){P.verbose("Refreshing other sidebars"),E=z.children(T.sidebar)},repaint:function(){P.verbose("Forcing repaint event"),j.style.display="none";j.offsetHeight;j.scrollTop=j.scrollTop,j.style.display=""},setup:{cache:function(){P.cache={width:V.outerWidth(),height:V.outerHeight(),rtl:"rtl"==V.css("direction")}},layout:function(){0===z.children(T.pusher).length&&(P.debug("Adding wrapper element for sidebar"),P.error(R.pusher),D=e('<div class="pusher" />'),z.children().not(T.omitted).not(E).wrapAll(D),P.refresh()),0!==V.nextAll(T.pusher).length&&V.nextAll(T.pusher)[0]===D[0]||(P.debug("Moved sidebar to correct parent element"),P.error(R.movedSidebar,j),V.detach().prependTo(z),P.refresh()),P.clear.cache(),P.set.pushable(),P.set.direction()}},attachEvents:function(n,o){var t=e(n);o=e.isFunction(P[o])?P[o]:P.toggle,t.length>0?(P.debug("Attaching sidebar events to element",n,o),t.on("click"+O,o)):P.error(R.notFound,n)},show:function(n){if(n=e.isFunction(n)?n:function(){},P.is.hidden()){if(P.refreshSidebars(),k.overlay&&(P.error(R.overlay),k.transition="overlay"),P.refresh(),P.othersActive())if(P.debug("Other sidebars currently visible"),k.exclusive){if("overlay"!=k.transition)return void P.hideOthers(P.show);P.hideOthers()}else k.transition="overlay";P.pushPage(function(){n.call(j),k.onShow.call(j)}),k.onChange.call(j),k.onVisible.call(j)}else P.debug("Sidebar is already visible")},hide:function(n){n=e.isFunction(n)?n:function(){},(P.is.visible()||P.is.animating())&&(P.debug("Hiding sidebar",n),P.refreshSidebars(),P.pullPage(function(){n.call(j),k.onHidden.call(j)}),k.onChange.call(j),k.onHide.call(j))},othersAnimating:function(){return E.not(V).filter("."+S.animating).length>0},othersVisible:function(){return E.not(V).filter("."+S.visible).length>0},othersActive:function(){return P.othersVisible()||P.othersAnimating()},hideOthers:function(e){var n=E.not(V).filter("."+S.visible),o=n.length,t=0;e=e||function(){},n.sidebar("hide",function(){t++,t==o&&e()})},toggle:function(){P.verbose("Determining toggled direction"),P.is.hidden()?P.show():P.hide()},pushPage:function(n){var o,t,i,s=P.get.transition(),r="overlay"===s||P.othersActive()?V:D;n=e.isFunction(n)?n:function(){},"scale down"==k.transition&&P.scrollToTop(),P.set.transition(s),P.repaint(),o=function(){P.bind.clickaway(),P.add.inlineCSS(),P.set.animating(),P.set.visible()},t=function(){P.set.dimmed()},i=function(e){e.target==r[0]&&(r.off(C+v,i),P.remove.animating(),P.bind.scrollLock(),n.call(j))},r.off(C+v),r.on(C+v,i),h(o),k.dimPage&&!P.othersVisible()&&h(t)},pullPage:function(n){var o,t,i=P.get.transition(),s="overlay"==i||P.othersActive()?V:D;n=e.isFunction(n)?n:function(){},P.verbose("Removing context push state",P.get.direction()),P.unbind.clickaway(),P.unbind.scrollLock(),o=function(){P.set.transition(i),P.set.animating(),P.remove.visible(),k.dimPage&&!P.othersVisible()&&D.removeClass(S.dimmed)},t=function(e){e.target==s[0]&&(s.off(C+v,t),P.remove.animating(),P.remove.transition(),P.remove.inlineCSS(),("scale down"==i||k.returnScroll&&P.is.mobile())&&P.scrollBack(),n.call(j))},s.off(C+v),s.on(C+v,t),h(o)},scrollToTop:function(){P.verbose("Scrolling to top of page to avoid animation issues"),x=e(n).scrollTop(),V.scrollTop(0),n.scrollTo(0,0)},scrollBack:function(){P.verbose("Scrolling back to original page position"),n.scrollTo(0,x)},clear:{cache:function(){P.verbose("Clearing cached dimensions"),P.cache={}}},set:{ios:function(){l.addClass(S.ios)},pushed:function(){z.addClass(S.pushed)},pushable:function(){z.addClass(S.pushable)},dimmed:function(){D.addClass(S.dimmed)},active:function(){V.addClass(S.active)},animating:function(){V.addClass(S.animating)},transition:function(e){e=e||P.get.transition(),V.addClass(e)},direction:function(e){e=e||P.get.direction(),V.addClass(S[e])},visible:function(){V.addClass(S.visible)},overlay:function(){V.addClass(S.overlay)}},remove:{inlineCSS:function(){P.debug("Removing inline css styles",r),r&&r.length>0&&r.remove()},ios:function(){l.removeClass(S.ios)},pushed:function(){z.removeClass(S.pushed)},pushable:function(){z.removeClass(S.pushable)},active:function(){V.removeClass(S.active)},animating:function(){V.removeClass(S.animating)},transition:function(e){e=e||P.get.transition(),V.removeClass(e)},direction:function(e){e=e||P.get.direction(),V.removeClass(S[e])},visible:function(){V.removeClass(S.visible)},overlay:function(){V.removeClass(S.overlay)}},get:{direction:function(){return V.hasClass(S.top)?S.top:V.hasClass(S.right)?S.right:V.hasClass(S.bottom)?S.bottom:S.left},transition:function(){var e,n=P.get.direction();return e=P.is.mobile()?"auto"==k.mobileTransition?k.defaultTransition.mobile[n]:k.mobileTransition:"auto"==k.transition?k.defaultTransition.computer[n]:k.transition,P.verbose("Determined transition",e),e},transitionEvent:function(){var e,n=o.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(n.style[e]!==t)return i[e]}},is:{ie:function(){var e=!n.ActiveXObject&&"ActiveXObject"in n,o="ActiveXObject"in n;return e||o},ios:function(){var e=navigator.userAgent,n=e.match(A.ios),o=e.match(A.mobileChrome);return!(!n||o)&&(P.verbose("Browser was found to be iOS",e),!0)},mobile:function(){var e=navigator.userAgent,n=e.match(A.mobile);return n?(P.verbose("Browser was found to be mobile",e),!0):(P.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!P.is.visible()},visible:function(){return V.hasClass(S.visible)},open:function(){return P.is.visible()},closed:function(){return P.is.hidden()},vertical:function(){return V.hasClass(S.top)},animating:function(){return z.hasClass(S.animating)},rtl:function(){return P.cache.rtl===t&&(P.cache.rtl="rtl"==V.css("direction")),P.cache.rtl}},setting:function(n,o){if(P.debug("Changing setting",n,o),e.isPlainObject(n))e.extend(!0,k,n);else{if(o===t)return k[n];e.isPlainObject(k[n])?e.extend(!0,k[n],o):k[n]=o}},internal:function(n,o){if(e.isPlainObject(n))e.extend(!0,P,n);else{if(o===t)return P[n];P[n]=o}},debug:function(){!k.silent&&k.debug&&(k.performance?P.performance.log(arguments):(P.debug=Function.prototype.bind.call(console.info,console,k.name+":"),P.debug.apply(console,arguments)))},verbose:function(){!k.silent&&k.verbose&&k.debug&&(k.performance?P.performance.log(arguments):(P.verbose=Function.prototype.bind.call(console.info,console,k.name+":"),P.verbose.apply(console,arguments)))},error:function(){k.silent||(P.error=Function.prototype.bind.call(console.error,console,k.name+":"),P.error.apply(console,arguments))},performance:{log:function(e){var n,o,t;k.performance&&(n=(new Date).getTime(),t=f||n,o=n-t,f=n,m.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:j,"Execution Time":o})),clearTimeout(P.performance.timer),P.performance.timer=setTimeout(P.performance.display,500)},display:function(){var n=k.name+":",o=0;f=!1,clearTimeout(P.performance.timer),e.each(m,function(e,n){o+=n["Execution Time"]}),n+=" "+o+"ms",d&&(n+=" '"+d+"'"),(console.group!==t||console.table!==t)&&m.length>0&&(console.groupCollapsed(n),console.table?console.table(m):e.each(m,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(n,o,i){var r,a,c,l=B;return o=o||p,i=j||i,"string"==typeof n&&l!==t&&(n=n.split(/[\. ]/),r=n.length-1,e.each(n,function(o,i){var s=o!=r?i+n[o+1].charAt(0).toUpperCase()+n[o+1].slice(1):n;if(e.isPlainObject(l[s])&&o!=r)l=l[s];else{if(l[s]!==t)return a=l[s],!1;if(!e.isPlainObject(l[i])||o==r)return l[i]!==t?(a=l[i],!1):(P.error(R.method,n),!1);l=l[i]}})),e.isFunction(a)?c=a.apply(i,o):a!==t&&(c=a),e.isArray(s)?s.push(c):s!==t?s=[s,c]:c!==t&&(s=c),a}},g?(B===t&&P.initialize(),P.invoke(b)):(B!==t&&P.invoke("destroy"),P.initialize())}),s!==t?s:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(e,n,o,t){"use strict";n="undefined"!=typeof n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.visibility=function(i){var s,r=e(this),a=r.selector||"",c=(new Date).getTime(),l=[],u=arguments[0],d="string"==typeof u,f=[].slice.call(arguments,1),m=r.length,b=0;return r.each(function(){var r,g,p,h,v=e.isPlainObject(i)?e.extend(!0,{},e.fn.visibility.settings,i):e.extend({},e.fn.visibility.settings),y=v.className,x=v.namespace,C=v.error,P=v.metadata,k="."+x,T="module-"+x,S=e(n),w=e(this),A=e(v.context),R=(w.selector||"",w.data(T)),O=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)},F=this,V=!1;h={initialize:function(){h.debug("Initializing",v),h.setup.cache(),h.should.trackChanges()&&("image"==v.type&&h.setup.image(),"fixed"==v.type&&h.setup.fixed(),v.observeChanges&&h.observeChanges(),h.bind.events()),h.save.position(),h.is.visible()||h.error(C.visible,w),v.initialCheck&&h.checkVisibility(),h.instantiate()},instantiate:function(){h.debug("Storing instance",h),w.data(T,h),R=h},destroy:function(){h.verbose("Destroying previous module"),p&&p.disconnect(),g&&g.disconnect(),S.off("load"+k,h.event.load).off("resize"+k,h.event.resize),A.off("scroll"+k,h.event.scroll).off("scrollchange"+k,h.event.scrollchange),"fixed"==v.type&&(h.resetFixed(),h.remove.placeholder()),w.off(k).removeData(T)},observeChanges:function(){"MutationObserver"in n&&(g=new MutationObserver(h.event.contextChanged),p=new MutationObserver(h.event.changed),g.observe(o,{childList:!0,subtree:!0}),p.observe(F,{childList:!0,subtree:!0}),h.debug("Setting up mutation observer",p))},bind:{events:function(){h.verbose("Binding visibility events to scroll and resize"),v.refreshOnLoad&&S.on("load"+k,h.event.load),S.on("resize"+k,h.event.resize),A.off("scroll"+k).on("scroll"+k,h.event.scroll).on("scrollchange"+k,h.event.scrollchange)}},event:{changed:function(e){h.verbose("DOM tree modified, updating visibility calculations"),h.timer=setTimeout(function(){h.verbose("DOM tree modified, updating sticky menu"),h.refresh()},100)},contextChanged:function(n){[].forEach.call(n,function(n){n.removedNodes&&[].forEach.call(n.removedNodes,function(n){(n==F||e(n).find(F).length>0)&&(h.debug("Element removed from DOM, tearing down events"),h.destroy())})})},resize:function(){h.debug("Window resized"),v.refreshOnResize&&O(h.refresh)},load:function(){h.debug("Page finished loading"),O(h.refresh)},scroll:function(){v.throttle?(clearTimeout(h.timer),h.timer=setTimeout(function(){A.triggerHandler("scrollchange"+k,[A.scrollTop()])},v.throttle)):O(function(){A.triggerHandler("scrollchange"+k,[A.scrollTop()])})},scrollchange:function(e,n){h.checkVisibility(n)}},precache:function(n,t){n instanceof Array||(n=[n]);for(var i=n.length,s=0,r=[],a=o.createElement("img"),c=function(){s++,s>=n.length&&e.isFunction(t)&&t()};i--;)a=o.createElement("img"),a.onload=c,a.onerror=c,a.src=n[i],r.push(a)},enableCallbacks:function(){h.debug("Allowing callbacks to occur"),V=!1},disableCallbacks:function(){h.debug("Disabling all callbacks temporarily"),V=!0},should:{trackChanges:function(){return d?(h.debug("One time query, no need to bind events"),!1):(h.debug("Callbacks being attached"),!0)}},setup:{cache:function(){h.cache={occurred:{},screen:{},element:{}}},image:function(){var e=w.data(P.src);e&&(h.verbose("Lazy loading image",e),v.once=!0,v.observeChanges=!1,v.onOnScreen=function(){h.debug("Image on screen",F),h.precache(e,function(){h.set.image(e,function(){b++,b==m&&v.onAllLoaded.call(this),v.onLoad.call(this)})})})},fixed:function(){h.debug("Setting up fixed"),v.once=!1,v.observeChanges=!1,v.initialCheck=!0,v.refreshOnLoad=!0,i.transition||(v.transition=!1),h.create.placeholder(),h.debug("Added placeholder",r),v.onTopPassed=function(){h.debug("Element passed, adding fixed position",w),h.show.placeholder(),h.set.fixed(),v.transition&&e.fn.transition!==t&&w.transition(v.transition,v.duration)},v.onTopPassedReverse=function(){h.debug("Element returned to position, removing fixed",w),h.hide.placeholder(),h.remove.fixed()}}},create:{placeholder:function(){h.verbose("Creating fixed position placeholder"),r=w.clone(!1).css("display","none").addClass(y.placeholder).insertAfter(w)}},show:{placeholder:function(){h.verbose("Showing placeholder"),r.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){h.verbose("Hiding placeholder"),r.css("display","none").css("visibility","")}},set:{fixed:function(){h.verbose("Setting element to fixed position"),w.addClass(y.fixed).css({position:"fixed",top:v.offset+"px",left:"auto",zIndex:v.zIndex}),v.onFixed.call(F)},image:function(n,o){w.attr("src",n),v.transition?e.fn.transition!==t?w.transition(v.transition,v.duration,o):w.fadeIn(v.duration,o):w.show()}},is:{onScreen:function(){var e=h.get.elementCalculations();return e.onScreen},offScreen:function(){var e=h.get.elementCalculations();return e.offScreen},visible:function(){return!(!h.cache||!h.cache.element)&&!(0===h.cache.element.width&&0===h.cache.element.offset.top)}},refresh:function(){h.debug("Refreshing constants (width/height)"),"fixed"==v.type&&h.resetFixed(),h.reset(),h.save.position(),v.checkOnRefresh&&h.checkVisibility(),v.onRefresh.call(F)},resetFixed:function(){h.remove.fixed(),h.remove.occurred()},reset:function(){h.verbose("Resetting all cached values"),e.isPlainObject(h.cache)&&(h.cache.screen={},h.cache.element={})},checkVisibility:function(e){h.verbose("Checking visibility of element",h.cache.element),!V&&h.is.visible()&&(h.save.scroll(e),h.save.calculations(),h.passed(),h.passingReverse(),h.topVisibleReverse(),h.bottomVisibleReverse(),h.topPassedReverse(),h.bottomPassedReverse(),h.onScreen(),h.offScreen(),h.passing(),h.topVisible(),h.bottomVisible(),h.topPassed(),h.bottomPassed(),v.onUpdate&&v.onUpdate.call(F,h.get.elementCalculations()))},passed:function(n,o){var i=h.get.elementCalculations();if(n&&o)v.onPassed[n]=o;else{if(n!==t)return h.get.pixelsPassed(n)>i.pixelsPassed;i.passing&&e.each(v.onPassed,function(e,n){i.bottomVisible||i.pixelsPassed>h.get.pixelsPassed(e)?h.execute(n,e):v.once||h.remove.occurred(n)})}},onScreen:function(e){var n=h.get.elementCalculations(),o=e||v.onOnScreen,i="onScreen";if(e&&(h.debug("Adding callback for onScreen",e),v.onOnScreen=e),n.onScreen?h.execute(o,i):v.once||h.remove.occurred(i),e!==t)return n.onOnScreen},offScreen:function(e){var n=h.get.elementCalculations(),o=e||v.onOffScreen,i="offScreen";if(e&&(h.debug("Adding callback for offScreen",e),v.onOffScreen=e),n.offScreen?h.execute(o,i):v.once||h.remove.occurred(i),e!==t)return n.onOffScreen},passing:function(e){var n=h.get.elementCalculations(),o=e||v.onPassing,i="passing";if(e&&(h.debug("Adding callback for passing",e),v.onPassing=e),n.passing?h.execute(o,i):v.once||h.remove.occurred(i),e!==t)return n.passing},topVisible:function(e){var n=h.get.elementCalculations(),o=e||v.onTopVisible,i="topVisible";if(e&&(h.debug("Adding callback for top visible",e),v.onTopVisible=e),n.topVisible?h.execute(o,i):v.once||h.remove.occurred(i),e===t)return n.topVisible},bottomVisible:function(e){var n=h.get.elementCalculations(),o=e||v.onBottomVisible,i="bottomVisible";if(e&&(h.debug("Adding callback for bottom visible",e),v.onBottomVisible=e),n.bottomVisible?h.execute(o,i):v.once||h.remove.occurred(i),e===t)return n.bottomVisible},topPassed:function(e){var n=h.get.elementCalculations(),o=e||v.onTopPassed,i="topPassed";if(e&&(h.debug("Adding callback for top passed",e),v.onTopPassed=e),n.topPassed?h.execute(o,i):v.once||h.remove.occurred(i),e===t)return n.topPassed},bottomPassed:function(e){var n=h.get.elementCalculations(),o=e||v.onBottomPassed,i="bottomPassed";if(e&&(h.debug("Adding callback for bottom passed",e),v.onBottomPassed=e),n.bottomPassed?h.execute(o,i):v.once||h.remove.occurred(i),e===t)return n.bottomPassed},passingReverse:function(e){var n=h.get.elementCalculations(),o=e||v.onPassingReverse,i="passingReverse";if(e&&(h.debug("Adding callback for passing reverse",e),v.onPassingReverse=e),n.passing?v.once||h.remove.occurred(i):h.get.occurred("passing")&&h.execute(o,i),e!==t)return!n.passing},topVisibleReverse:function(e){var n=h.get.elementCalculations(),o=e||v.onTopVisibleReverse,i="topVisibleReverse";if(e&&(h.debug("Adding callback for top visible reverse",e),v.onTopVisibleReverse=e),n.topVisible?v.once||h.remove.occurred(i):h.get.occurred("topVisible")&&h.execute(o,i),e===t)return!n.topVisible},bottomVisibleReverse:function(e){var n=h.get.elementCalculations(),o=e||v.onBottomVisibleReverse,i="bottomVisibleReverse";if(e&&(h.debug("Adding callback for bottom visible reverse",e),v.onBottomVisibleReverse=e),n.bottomVisible?v.once||h.remove.occurred(i):h.get.occurred("bottomVisible")&&h.execute(o,i),e===t)return!n.bottomVisible},topPassedReverse:function(e){var n=h.get.elementCalculations(),o=e||v.onTopPassedReverse,i="topPassedReverse";if(e&&(h.debug("Adding callback for top passed reverse",e),v.onTopPassedReverse=e),n.topPassed?v.once||h.remove.occurred(i):h.get.occurred("topPassed")&&h.execute(o,i),e===t)return!n.onTopPassed},bottomPassedReverse:function(e){var n=h.get.elementCalculations(),o=e||v.onBottomPassedReverse,i="bottomPassedReverse";if(e&&(h.debug("Adding callback for bottom passed reverse",e),v.onBottomPassedReverse=e),n.bottomPassed?v.once||h.remove.occurred(i):h.get.occurred("bottomPassed")&&h.execute(o,i),e===t)return!n.bottomPassed},execute:function(e,n){var o=h.get.elementCalculations(),t=h.get.screenCalculations();e=e||!1,e&&(v.continuous?(h.debug("Callback being called continuously",n,o),e.call(F,o,t)):h.get.occurred(n)||(h.debug("Conditions met",n,o),e.call(F,o,t))),h.save.occurred(n)},remove:{fixed:function(){h.debug("Removing fixed position"),w.removeClass(y.fixed).css({position:"",top:"",left:"",zIndex:""}),v.onUnfixed.call(F)},placeholder:function(){h.debug("Removing placeholder content"),r&&r.remove()},occurred:function(e){if(e){var n=h.cache.occurred;n[e]!==t&&n[e]===!0&&(h.debug("Callback can now be called again",e),h.cache.occurred[e]=!1)}else h.cache.occurred={}}},save:{calculations:function(){h.verbose("Saving all calculations necessary to determine positioning"),h.save.direction(),h.save.screenCalculations(),h.save.elementCalculations()},occurred:function(e){e&&(h.cache.occurred[e]!==t&&h.cache.occurred[e]===!0||(h.verbose("Saving callback occurred",e),h.cache.occurred[e]=!0))},scroll:function(e){e=e+v.offset||A.scrollTop()+v.offset,h.cache.scroll=e},direction:function(){var e,n=h.get.scroll(),o=h.get.lastScroll();return e=n>o&&o?"down":n<o&&o?"up":"static",h.cache.direction=e,h.cache.direction},elementPosition:function(){var e=h.cache.element,n=h.get.screenSize();return h.verbose("Saving element position"),e.fits=e.height<n.height,e.offset=w.offset(),e.width=w.outerWidth(),e.height=w.outerHeight(),h.cache.element=e,e},elementCalculations:function(){var e=h.get.screenCalculations(),n=h.get.elementPosition();return v.includeMargin?(n.margin={},n.margin.top=parseInt(w.css("margin-top"),10),n.margin.bottom=parseInt(w.css("margin-bottom"),10),n.top=n.offset.top-n.margin.top,n.bottom=n.offset.top+n.height+n.margin.bottom):(n.top=n.offset.top,n.bottom=n.offset.top+n.height),n.topVisible=e.bottom>=n.top,n.topPassed=e.top>=n.top,n.bottomVisible=e.bottom>=n.bottom,n.bottomPassed=e.top>=n.bottom,n.pixelsPassed=0,n.percentagePassed=0,n.onScreen=n.topVisible&&!n.bottomPassed,n.passing=n.topPassed&&!n.bottomPassed,n.offScreen=!n.onScreen,n.passing&&(n.pixelsPassed=e.top-n.top,n.percentagePassed=(e.top-n.top)/n.height),h.cache.element=n,h.verbose("Updated element calculations",n),n},screenCalculations:function(){var e=h.get.scroll();return h.save.direction(),h.cache.screen.top=e,h.cache.screen.bottom=e+h.cache.screen.height,h.cache.screen},screenSize:function(){h.verbose("Saving window position"),h.cache.screen={height:A.height()}},position:function(){h.save.screenSize(),h.save.elementPosition()}},get:{pixelsPassed:function(e){var n=h.get.elementCalculations();return e.search("%")>-1?n.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return h.cache.occurred!==t&&(h.cache.occurred[e]||!1)},direction:function(){return h.cache.direction===t&&h.save.direction(),h.cache.direction},elementPosition:function(){
return h.cache.element===t&&h.save.elementPosition(),h.cache.element},elementCalculations:function(){return h.cache.element===t&&h.save.elementCalculations(),h.cache.element},screenCalculations:function(){return h.cache.screen===t&&h.save.screenCalculations(),h.cache.screen},screenSize:function(){return h.cache.screen===t&&h.save.screenSize(),h.cache.screen},scroll:function(){return h.cache.scroll===t&&h.save.scroll(),h.cache.scroll},lastScroll:function(){return h.cache.screen===t?(h.debug("First scroll event, no last scroll could be found"),!1):h.cache.screen.top}},setting:function(n,o){if(e.isPlainObject(n))e.extend(!0,v,n);else{if(o===t)return v[n];v[n]=o}},internal:function(n,o){if(e.isPlainObject(n))e.extend(!0,h,n);else{if(o===t)return h[n];h[n]=o}},debug:function(){!v.silent&&v.debug&&(v.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,v.name+":"),h.debug.apply(console,arguments)))},verbose:function(){!v.silent&&v.verbose&&v.debug&&(v.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),h.verbose.apply(console,arguments)))},error:function(){v.silent||(h.error=Function.prototype.bind.call(console.error,console,v.name+":"),h.error.apply(console,arguments))},performance:{log:function(e){var n,o,t;v.performance&&(n=(new Date).getTime(),t=c||n,o=n-t,c=n,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:F,"Execution Time":o})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var n=v.name+":",o=0;c=!1,clearTimeout(h.performance.timer),e.each(l,function(e,n){o+=n["Execution Time"]}),n+=" "+o+"ms",a&&(n+=" '"+a+"'"),(console.group!==t||console.table!==t)&&l.length>0&&(console.groupCollapsed(n),console.table?console.table(l):e.each(l,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(n,o,i){var r,a,c,l=R;return o=o||f,i=F||i,"string"==typeof n&&l!==t&&(n=n.split(/[\. ]/),r=n.length-1,e.each(n,function(o,i){var s=o!=r?i+n[o+1].charAt(0).toUpperCase()+n[o+1].slice(1):n;if(e.isPlainObject(l[s])&&o!=r)l=l[s];else{if(l[s]!==t)return a=l[s],!1;if(!e.isPlainObject(l[i])||o==r)return l[i]!==t?(a=l[i],!1):(h.error(C.method,n),!1);l=l[i]}})),e.isFunction(a)?c=a.apply(i,o):a!==t&&(c=a),e.isArray(s)?s.push(c):s!==t?s=[s,c]:c!==t&&(s=c),a}},d?(R===t&&h.initialize(),R.save.scroll(),R.save.calculations(),h.invoke(u)):(R!==t&&R.invoke("destroy"),h.initialize())}),s!==t?s:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:n,throttle:!1,type:!1,zIndex:"10",transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);