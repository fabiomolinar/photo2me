 /*
 * # Semantic UI - 2.2.4
 * https://github.com/Semantic-Org/Semantic-UI
 * http://www.semantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,t,o,n){e.site=e.fn.site=function(i){var s,r,c=(new Date).getTime(),a=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),f=e.isPlainObject(i)?e.extend(!0,{},e.site.settings,i):e.extend({},e.site.settings),m=f.namespace,b=f.error,g="module-"+m,h=e(o),p=h,v=this,x=p.data(g);return s={initialize:function(){s.instantiate()},instantiate:function(){s.verbose("Storing instance of site",s),x=s,p.data(g,s)},normalize:function(){s.fix.console(),s.fix.requestAnimationFrame()},fix:{console:function(){s.debug("Normalizing window.console"),console!==n&&console.log!==n||(s.verbose("Console not available, normalizing events"),s.disable.console()),"undefined"!=typeof console.group&&"undefined"!=typeof console.groupEnd&&"undefined"!=typeof console.groupCollapsed||(s.verbose("Console group not available, normalizing events"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(s.verbose("Mark timeline not available, normalizing events"),t.console.markTimeline=function(){})},consoleClear:function(){s.debug("Disabling programmatic console clearing"),t.console.clear=function(){}},requestAnimationFrame:function(){s.debug("Normalizing requestAnimationFrame"),t.requestAnimationFrame===n&&(s.debug("RequestAnimationFrame not available, normalizing event"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return e.fn[t]!==n&&e.fn[t].settings!==n},enabled:{modules:function(t){var o=[];return t=t||f.modules,e.each(t,function(e,t){s.moduleExists(t)&&o.push(t)}),o}},disabled:{modules:function(t){var o=[];return t=t||f.modules,e.each(t,function(e,t){s.moduleExists(t)||o.push(t)}),o}},change:{setting:function(t,o,i,r){i="string"==typeof i?"all"===i?f.modules:[i]:i||f.modules,r=r===n||r,e.each(i,function(n,i){var c,a=!s.moduleExists(i)||(e.fn[i].settings.namespace||!1);s.moduleExists(i)&&(s.verbose("Changing default setting",t,o,i),e.fn[i].settings[t]=o,r&&a&&(c=e(":data(module-"+a+")"),c.length>0&&(s.verbose("Modifying existing settings",c),c[i]("setting",t,o))))})},settings:function(t,o,i){o="string"==typeof o?[o]:o||f.modules,i=i===n||i,e.each(o,function(o,n){var r;s.moduleExists(n)&&(s.verbose("Changing default setting",t,n),e.extend(!0,e.fn[n].settings,t),i&&m&&(r=e(":data(module-"+m+")"),r.length>0&&(s.verbose("Modifying existing settings",r),r[n]("setting",t))))})}},enable:{console:function(){s.console(!0)},debug:function(e,t){e=e||f.modules,s.debug("Enabling debug for modules",e),s.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||f.modules,s.debug("Enabling verbose debug for modules",e),s.change.setting("verbose",!0,e,t)}},disable:{console:function(){s.console(!1)},debug:function(e,t){e=e||f.modules,s.debug("Disabling debug for modules",e),s.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||f.modules,s.debug("Disabling verbose debug for modules",e),s.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(x.cache.console===n)return void s.error(b.console);s.debug("Restoring console function"),t.console=x.cache.console}else s.debug("Disabling console function"),x.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){s.verbose("Destroying previous site for",p),p.removeData(g)},cache:{},setting:function(t,o){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(o===n)return f[t];f[t]=o}},internal:function(t,o){if(e.isPlainObject(t))e.extend(!0,s,t);else{if(o===n)return s[t];s[t]=o}},debug:function(){f.debug&&(f.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,f.name+":"),s.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,f.name+":"),s.error.apply(console,arguments)},performance:{log:function(e){var t,o,n;f.performance&&(t=(new Date).getTime(),n=c||t,o=t-n,c=t,a.push({Element:v,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":o})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var t=f.name+":",o=0;c=!1,clearTimeout(s.performance.timer),e.each(a,function(e,t){o+=t["Execution Time"]}),t+=" "+o+"ms",(console.group!==n||console.table!==n)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):e.each(a,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(t,o,i){var c,a,l,u=x;return o=o||d,i=v||i,"string"==typeof t&&u!==n&&(t=t.split(/[\. ]/),c=t.length-1,e.each(t,function(o,i){var r=o!=c?i+t[o+1].charAt(0).toUpperCase()+t[o+1].slice(1):t;if(e.isPlainObject(u[r])&&o!=c)u=u[r];else{if(u[r]!==n)return a=u[r],!1;if(!e.isPlainObject(u[i])||o==c)return u[i]!==n?(a=u[i],!1):(s.error(b.method,t),!1);u=u[i]}})),e.isFunction(a)?l=a.apply(i,o):a!==n&&(l=a),e.isArray(r)?r.push(l):r!==n?r=[r,l]:l!==n&&(r=l),a}},u?(x===n&&s.initialize(),s.invoke(l)):(x!==n&&s.destroy(),s.initialize()),r!==n?r:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(o){return!!e.data(o,t)}}):function(t,o,n){return!!e.data(t,n[3])}})}(jQuery,window,document),function(e,t,o,n){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sidebar=function(i){var s,r=e(this),c=e(t),a=e(o),l=e("html"),u=e("head"),d=r.selector||"",f=(new Date).getTime(),m=[],b=arguments[0],g="string"==typeof b,h=[].slice.call(arguments,1),p=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return r.each(function(){var r,v,x,y,C,S,k=e.isPlainObject(i)?e.extend(!0,{},e.fn.sidebar.settings,i):e.extend({},e.fn.sidebar.settings),P=k.selector,T=k.className,w=k.namespace,A=k.regExp,R=k.error,F="."+w,O="module-"+w,z=e(this),E=e(k.context),V=z.children(P.sidebar),M=E.children(P.fixed),B=E.children(P.pusher),D=this,j=z.data(O);S={initialize:function(){S.debug("Initializing sidebar",i),S.create.id(),C=S.get.transitionEvent(),S.is.ios()&&S.set.ios(),k.delaySetup?p(S.setup.layout):S.setup.layout(),p(function(){S.setup.cache()}),S.instantiate()},instantiate:function(){S.verbose("Storing instance of module",S),j=S,z.data(O,S)},create:{id:function(){x=(Math.random().toString(16)+"000000000").substr(2,8),v="."+x,S.verbose("Creating unique id for element",x)}},destroy:function(){S.verbose("Destroying previous module for",z),z.off(F).removeData(O),S.is.ios()&&S.remove.ios(),E.off(v),c.off(v),a.off(v)},event:{clickaway:function(e){var t=B.find(e.target).length>0||B.is(e.target),o=E.is(e.target);t&&(S.verbose("User clicked on dimmed page"),S.hide()),o&&(S.verbose("User clicked on dimmable context (scaled out page)"),S.hide())},touch:function(e){},containScroll:function(e){D.scrollTop<=0&&(D.scrollTop=1),D.scrollTop+D.offsetHeight>=D.scrollHeight&&(D.scrollTop=D.scrollHeight-D.offsetHeight-1)},scroll:function(t){0===e(t.target).closest(P.sidebar).length&&t.preventDefault()}},bind:{clickaway:function(){S.verbose("Adding clickaway events to context",E),k.closable&&E.on("click"+v,S.event.clickaway).on("touchend"+v,S.event.clickaway)},scrollLock:function(){k.scrollLock&&(S.debug("Disabling page scroll"),c.on("DOMMouseScroll"+v,S.event.scroll)),S.verbose("Adding events to contain sidebar scroll"),a.on("touchmove"+v,S.event.touch),z.on("scroll"+F,S.event.containScroll)}},unbind:{clickaway:function(){S.verbose("Removing clickaway events from context",E),E.off(v)},scrollLock:function(){S.verbose("Removing scroll lock from page"),a.off(v),c.off(v),z.off("scroll"+F)}},add:{inlineCSS:function(){var t,o=S.cache.width||z.outerWidth(),n=S.cache.height||z.outerHeight(),i=S.is.rtl(),s=S.get.direction(),c={left:o,right:-o,top:n,bottom:-n};i&&(S.verbose("RTL detected, flipping widths"),c.left=-o,c.right=o),t="<style>","left"===s||"right"===s?(S.debug("Adding CSS rules for animation distance",o),t+=" .ui.visible."+s+".sidebar ~ .fixed, .ui.visible."+s+".sidebar ~ .pusher {   -webkit-transform: translate3d("+c[s]+"px, 0, 0);           transform: translate3d("+c[s]+"px, 0, 0); }"):"top"!==s&&"bottom"!=s||(t+=" .ui.visible."+s+".sidebar ~ .fixed, .ui.visible."+s+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+c[s]+"px, 0);           transform: translate3d(0, "+c[s]+"px, 0); }"),S.is.ie()&&("left"===s||"right"===s?(S.debug("Adding CSS rules for animation distance",o),t+=" body.pushable > .ui.visible."+s+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+c[s]+"px, 0, 0);           transform: translate3d("+c[s]+"px, 0, 0); }"):"top"!==s&&"bottom"!=s||(t+=" body.pushable > .ui.visible."+s+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+c[s]+"px, 0);           transform: translate3d(0, "+c[s]+"px, 0); }"),t+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),t+="</style>",r=e(t).appendTo(u),S.debug("Adding sizing css to head",r)}},refresh:function(){S.verbose("Refreshing selector cache"),E=e(k.context),V=E.children(P.sidebar),B=E.children(P.pusher),M=E.children(P.fixed),S.clear.cache()},refreshSidebars:function(){S.verbose("Refreshing other sidebars"),V=E.children(P.sidebar)},repaint:function(){S.verbose("Forcing repaint event"),D.style.display="none";D.offsetHeight;D.scrollTop=D.scrollTop,D.style.display=""},setup:{cache:function(){S.cache={width:z.outerWidth(),height:z.outerHeight(),rtl:"rtl"==z.css("direction")}},layout:function(){0===E.children(P.pusher).length&&(S.debug("Adding wrapper element for sidebar"),S.error(R.pusher),B=e('<div class="pusher" />'),E.children().not(P.omitted).not(V).wrapAll(B),S.refresh()),0!==z.nextAll(P.pusher).length&&z.nextAll(P.pusher)[0]===B[0]||(S.debug("Moved sidebar to correct parent element"),S.error(R.movedSidebar,D),z.detach().prependTo(E),S.refresh()),S.clear.cache(),S.set.pushable(),S.set.direction()}},attachEvents:function(t,o){var n=e(t);o=e.isFunction(S[o])?S[o]:S.toggle,n.length>0?(S.debug("Attaching sidebar events to element",t,o),n.on("click"+F,o)):S.error(R.notFound,t)},show:function(t){if(t=e.isFunction(t)?t:function(){},S.is.hidden()){if(S.refreshSidebars(),k.overlay&&(S.error(R.overlay),k.transition="overlay"),S.refresh(),S.othersActive())if(S.debug("Other sidebars currently visible"),k.exclusive){if("overlay"!=k.transition)return void S.hideOthers(S.show);S.hideOthers()}else k.transition="overlay";S.pushPage(function(){t.call(D),k.onShow.call(D)}),k.onChange.call(D),k.onVisible.call(D)}else S.debug("Sidebar is already visible")},hide:function(t){t=e.isFunction(t)?t:function(){},(S.is.visible()||S.is.animating())&&(S.debug("Hiding sidebar",t),S.refreshSidebars(),S.pullPage(function(){t.call(D),k.onHidden.call(D)}),k.onChange.call(D),k.onHide.call(D))},othersAnimating:function(){return V.not(z).filter("."+T.animating).length>0},othersVisible:function(){return V.not(z).filter("."+T.visible).length>0},othersActive:function(){return S.othersVisible()||S.othersAnimating()},hideOthers:function(e){var t=V.not(z).filter("."+T.visible),o=t.length,n=0;e=e||function(){},t.sidebar("hide",function(){n++,n==o&&e()})},toggle:function(){S.verbose("Determining toggled direction"),S.is.hidden()?S.show():S.hide()},pushPage:function(t){var o,n,i,s=S.get.transition(),r="overlay"===s||S.othersActive()?z:B;t=e.isFunction(t)?t:function(){},"scale down"==k.transition&&S.scrollToTop(),S.set.transition(s),S.repaint(),o=function(){S.bind.clickaway(),S.add.inlineCSS(),S.set.animating(),S.set.visible()},n=function(){S.set.dimmed()},i=function(e){e.target==r[0]&&(r.off(C+v,i),S.remove.animating(),S.bind.scrollLock(),t.call(D))},r.off(C+v),r.on(C+v,i),p(o),k.dimPage&&!S.othersVisible()&&p(n)},pullPage:function(t){var o,n,i=S.get.transition(),s="overlay"==i||S.othersActive()?z:B;t=e.isFunction(t)?t:function(){},S.verbose("Removing context push state",S.get.direction()),S.unbind.clickaway(),S.unbind.scrollLock(),o=function(){S.set.transition(i),S.set.animating(),S.remove.visible(),k.dimPage&&!S.othersVisible()&&B.removeClass(T.dimmed)},n=function(e){e.target==s[0]&&(s.off(C+v,n),S.remove.animating(),S.remove.transition(),S.remove.inlineCSS(),("scale down"==i||k.returnScroll&&S.is.mobile())&&S.scrollBack(),t.call(D))},s.off(C+v),s.on(C+v,n),p(o)},scrollToTop:function(){S.verbose("Scrolling to top of page to avoid animation issues"),y=e(t).scrollTop(),z.scrollTop(0),t.scrollTo(0,0)},scrollBack:function(){S.verbose("Scrolling back to original page position"),t.scrollTo(0,y)},clear:{cache:function(){S.verbose("Clearing cached dimensions"),S.cache={}}},set:{ios:function(){l.addClass(T.ios)},pushed:function(){E.addClass(T.pushed)},pushable:function(){E.addClass(T.pushable)},dimmed:function(){B.addClass(T.dimmed)},active:function(){z.addClass(T.active)},animating:function(){z.addClass(T.animating)},transition:function(e){e=e||S.get.transition(),z.addClass(e)},direction:function(e){e=e||S.get.direction(),z.addClass(T[e])},visible:function(){z.addClass(T.visible)},overlay:function(){z.addClass(T.overlay)}},remove:{inlineCSS:function(){S.debug("Removing inline css styles",r),r&&r.length>0&&r.remove()},ios:function(){l.removeClass(T.ios)},pushed:function(){E.removeClass(T.pushed)},pushable:function(){E.removeClass(T.pushable)},active:function(){z.removeClass(T.active)},animating:function(){z.removeClass(T.animating)},transition:function(e){e=e||S.get.transition(),z.removeClass(e)},direction:function(e){e=e||S.get.direction(),z.removeClass(T[e])},visible:function(){z.removeClass(T.visible)},overlay:function(){z.removeClass(T.overlay)}},get:{direction:function(){return z.hasClass(T.top)?T.top:z.hasClass(T.right)?T.right:z.hasClass(T.bottom)?T.bottom:T.left},transition:function(){var e,t=S.get.direction();return e=S.is.mobile()?"auto"==k.mobileTransition?k.defaultTransition.mobile[t]:k.mobileTransition:"auto"==k.transition?k.defaultTransition.computer[t]:k.transition,S.verbose("Determined transition",e),e},transitionEvent:function(){var e,t=o.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(t.style[e]!==n)return i[e]}},is:{ie:function(){var e=!t.ActiveXObject&&"ActiveXObject"in t,o="ActiveXObject"in t;return e||o},ios:function(){var e=navigator.userAgent,t=e.match(A.ios),o=e.match(A.mobileChrome);return!(!t||o)&&(S.verbose("Browser was found to be iOS",e),!0)},mobile:function(){var e=navigator.userAgent,t=e.match(A.mobile);return t?(S.verbose("Browser was found to be mobile",e),!0):(S.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!S.is.visible()},visible:function(){return z.hasClass(T.visible)},open:function(){return S.is.visible()},closed:function(){return S.is.hidden()},vertical:function(){return z.hasClass(T.top)},animating:function(){return E.hasClass(T.animating)},rtl:function(){return S.cache.rtl===n&&(S.cache.rtl="rtl"==z.css("direction")),S.cache.rtl}},setting:function(t,o){if(S.debug("Changing setting",t,o),e.isPlainObject(t))e.extend(!0,k,t);else{if(o===n)return k[t];e.isPlainObject(k[t])?e.extend(!0,k[t],o):k[t]=o}},internal:function(t,o){if(e.isPlainObject(t))e.extend(!0,S,t);else{if(o===n)return S[t];S[t]=o}},debug:function(){!k.silent&&k.debug&&(k.performance?S.performance.log(arguments):(S.debug=Function.prototype.bind.call(console.info,console,k.name+":"),S.debug.apply(console,arguments)))},verbose:function(){!k.silent&&k.verbose&&k.debug&&(k.performance?S.performance.log(arguments):(S.verbose=Function.prototype.bind.call(console.info,console,k.name+":"),S.verbose.apply(console,arguments)))},error:function(){k.silent||(S.error=Function.prototype.bind.call(console.error,console,k.name+":"),S.error.apply(console,arguments))},performance:{log:function(e){var t,o,n;k.performance&&(t=(new Date).getTime(),n=f||t,o=t-n,f=t,m.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:D,"Execution Time":o})),clearTimeout(S.performance.timer),S.performance.timer=setTimeout(S.performance.display,500)},display:function(){var t=k.name+":",o=0;f=!1,clearTimeout(S.performance.timer),e.each(m,function(e,t){o+=t["Execution Time"]}),t+=" "+o+"ms",d&&(t+=" '"+d+"'"),(console.group!==n||console.table!==n)&&m.length>0&&(console.groupCollapsed(t),console.table?console.table(m):e.each(m,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(t,o,i){var r,c,a,l=j;return o=o||h,i=D||i,"string"==typeof t&&l!==n&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(o,i){var s=o!=r?i+t[o+1].charAt(0).toUpperCase()+t[o+1].slice(1):t;if(e.isPlainObject(l[s])&&o!=r)l=l[s];else{if(l[s]!==n)return c=l[s],!1;if(!e.isPlainObject(l[i])||o==r)return l[i]!==n?(c=l[i],!1):(S.error(R.method,t),!1);l=l[i]}})),e.isFunction(c)?a=c.apply(i,o):c!==n&&(a=c),e.isArray(s)?s.push(a):s!==n?s=[s,a]:a!==n&&(s=a),c}},g?(j===n&&S.initialize(),S.invoke(b)):(j!==n&&S.invoke("destroy"),S.initialize())}),s!==n?s:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(e,t,o,n){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sticky=function(i){var s,r=e(this),c=r.selector||"",a=(new Date).getTime(),l=[],u=arguments[0],d="string"==typeof u,f=[].slice.call(arguments,1);return r.each(function(){var r,m,b,g,h,p=e.isPlainObject(i)?e.extend(!0,{},e.fn.sticky.settings,i):e.extend({},e.fn.sticky.settings),v=p.className,x=p.namespace,y=p.error,C="."+x,S="module-"+x,k=e(this),P=e(t),T=e(p.scrollContext),w=(k.selector||"",k.data(S)),A=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},R=this;h={initialize:function(){h.determineContainer(),h.determineContext(),h.verbose("Initializing sticky",p,r),h.save.positions(),h.checkErrors(),h.bind.events(),p.observeChanges&&h.observeChanges(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),w=h,k.data(S,h)},destroy:function(){h.verbose("Destroying previous instance"),h.reset(),b&&b.disconnect(),g&&g.disconnect(),P.off("load"+C,h.event.load).off("resize"+C,h.event.resize),T.off("scrollchange"+C,h.event.scrollchange),k.removeData(S)},observeChanges:function(){"MutationObserver"in t&&(b=new MutationObserver(h.event.documentChanged),g=new MutationObserver(h.event.changed),b.observe(o,{childList:!0,subtree:!0}),g.observe(R,{childList:!0,subtree:!0}),g.observe(m[0],{childList:!0,subtree:!0}),h.debug("Setting up mutation observer",g))},determineContainer:function(){r=k.offsetParent()},determineContext:function(){if(m=p.context?e(p.context):r,0===m.length)return void h.error(y.invalidContext,p.context,k)},checkErrors:function(){if(h.is.hidden()&&h.error(y.visible,k),h.cache.element.height>h.cache.context.height)return h.reset(),void h.error(y.elementSize,k)},bind:{events:function(){P.on("load"+C,h.event.load).on("resize"+C,h.event.resize),T.off("scroll"+C).on("scroll"+C,h.event.scroll).on("scrollchange"+C,h.event.scrollchange)}},event:{changed:function(e){clearTimeout(h.timer),h.timer=setTimeout(function(){h.verbose("DOM tree modified, updating sticky menu",e),h.refresh()},100)},documentChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==R||e(t).find(R).length>0)&&(h.debug("Element removed from DOM, tearing down events"),h.destroy())})})},load:function(){h.verbose("Page contents finished loading"),A(h.refresh)},resize:function(){h.verbose("Window resized"),A(h.refresh)},scroll:function(){A(function(){T.triggerHandler("scrollchange"+C,T.scrollTop())})},scrollchange:function(e,t){h.stick(t),p.onScroll.call(R)}},refresh:function(e){h.reset(),p.context||h.determineContext(),e&&h.determineContainer(),h.save.positions(),h.stick(),p.onReposition.call(R)},supports:{sticky:function(){var t=e("<div/>");t[0];return t.addClass(v.supported),t.css("position").match("sticky")}},save:{lastScroll:function(e){h.lastScroll=e},elementScroll:function(e){h.elementScroll=e},positions:function(){var e={height:T.height()},t={margin:{top:parseInt(k.css("margin-top"),10),bottom:parseInt(k.css("margin-bottom"),10)},offset:k.offset(),width:k.outerWidth(),height:k.outerHeight()},o={offset:m.offset(),height:m.outerHeight()};({height:r.outerHeight()});h.is.standardScroll()||(h.debug("Non-standard scroll. Removing scroll offset from element offset"),e.top=T.scrollTop(),e.left=T.scrollLeft(),t.offset.top+=e.top,o.offset.top+=e.top,t.offset.left+=e.left,o.offset.left+=e.left),h.cache={fits:t.height<e.height,scrollContext:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:o.offset.top,height:o.height,bottom:o.offset.top+o.height}},h.set.containerSize(),h.set.size(),h.stick(),h.debug("Caching element positions",h.cache)}},get:{direction:function(e){var t="down";return e=e||T.scrollTop(),h.lastScroll!==n&&(h.lastScroll<e?t="down":h.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||T.scrollTop(),h.lastScroll?e-h.lastScroll:0},currentElementScroll:function(){return h.elementScroll?h.elementScroll:h.is.top()?Math.abs(parseInt(k.css("top"),10))||0:Math.abs(parseInt(k.css("bottom"),10))||0},elementScroll:function(e){e=e||T.scrollTop();var t=h.cache.element,o=h.cache.scrollContext,n=h.get.scrollChange(e),i=t.height-o.height+p.offset,s=h.get.currentElementScroll(),r=s+n;return s=h.cache.fits||r<0?0:r>i?i:r}},remove:{lastScroll:function(){delete h.lastScroll},elementScroll:function(e){delete h.elementScroll},offset:function(){k.css("margin-top","")}},set:{offset:function(){h.verbose("Setting offset on element",p.offset),k.css("margin-top",p.offset)},containerSize:function(){var e=r.get(0).tagName;"HTML"===e||"body"==e?h.determineContainer():Math.abs(r.outerHeight()-h.cache.context.height)>p.jitter&&(h.debug("Context has padding, specifying exact height for container",h.cache.context.height),r.css({height:h.cache.context.height}))},minimumSize:function(){var e=h.cache.element;r.css("min-height",e.height)},scroll:function(e){h.debug("Setting scroll on element",e),h.elementScroll!=e&&(h.is.top()&&k.css("bottom","").css("top",-e),h.is.bottom()&&k.css("top","").css("bottom",e))},size:function(){0!==h.cache.element.height&&0!==h.cache.element.width&&(R.style.setProperty("width",h.cache.element.width+"px","important"),R.style.setProperty("height",h.cache.element.height+"px","important"))}},is:{standardScroll:function(){return T[0]==t},top:function(){return k.hasClass(v.top)},bottom:function(){return k.hasClass(v.bottom)},initialPosition:function(){return!h.is.fixed()&&!h.is.bound()},hidden:function(){return!k.is(":visible")},bound:function(){return k.hasClass(v.bound)},fixed:function(){return k.hasClass(v.fixed)}},stick:function(e){var t=e||T.scrollTop(),o=h.cache,n=o.fits,i=o.element,s=o.scrollContext,r=o.context,c=h.is.bottom()&&p.pushing?p.bottomOffset:p.offset,e={top:t+c,bottom:t+c+s.height},a=(h.get.direction(e.top),n?0:h.get.elementScroll(e.top)),l=!n,u=0!==i.height;u&&(h.is.initialPosition()?e.top>=r.bottom?(h.debug("Initial element position is bottom of container"),h.bindBottom()):e.top>i.top&&(i.height+e.top-a>=r.bottom?(h.debug("Initial element position is bottom of container"),h.bindBottom()):(h.debug("Initial element position is fixed"),h.fixTop())):h.is.fixed()?h.is.top()?e.top<=i.top?(h.debug("Fixed element reached top of container"),h.setInitialPosition()):i.height+e.top-a>=r.bottom?(h.debug("Fixed element reached bottom of container"),h.bindBottom()):l&&(h.set.scroll(a),h.save.lastScroll(e.top),h.save.elementScroll(a)):h.is.bottom()&&(e.bottom-i.height<=i.top?(h.debug("Bottom fixed rail has reached top of container"),h.setInitialPosition()):e.bottom>=r.bottom?(h.debug("Bottom fixed rail has reached bottom of container"),h.bindBottom()):l&&(h.set.scroll(a),h.save.lastScroll(e.top),h.save.elementScroll(a))):h.is.bottom()&&(e.top<=i.top?(h.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),h.setInitialPosition()):p.pushing?h.is.bound()&&e.bottom<=r.bottom&&(h.debug("Fixing bottom attached element to bottom of browser."),h.fixBottom()):h.is.bound()&&e.top<=r.bottom-i.height&&(h.debug("Fixing bottom attached element to top of browser."),h.fixTop())))},bindTop:function(){h.debug("Binding element to top of parent container"),h.remove.offset(),k.css({left:"",top:"",marginBottom:""}).removeClass(v.fixed).removeClass(v.bottom).addClass(v.bound).addClass(v.top),p.onTop.call(R),p.onUnstick.call(R)},bindBottom:function(){h.debug("Binding element to bottom of parent container"),h.remove.offset(),k.css({left:"",top:""}).removeClass(v.fixed).removeClass(v.top).addClass(v.bound).addClass(v.bottom),p.onBottom.call(R),p.onUnstick.call(R)},setInitialPosition:function(){h.debug("Returning to initial position"),h.unfix(),h.unbind()},fixTop:function(){h.debug("Fixing element to top of page"),h.set.minimumSize(),h.set.offset(),k.css({left:h.cache.element.left,bottom:"",marginBottom:""}).removeClass(v.bound).removeClass(v.bottom).addClass(v.fixed).addClass(v.top),p.onStick.call(R)},fixBottom:function(){h.debug("Sticking element to bottom of page"),h.set.minimumSize(),h.set.offset(),k.css({left:h.cache.element.left,bottom:"",marginBottom:""}).removeClass(v.bound).removeClass(v.top).addClass(v.fixed).addClass(v.bottom),p.onStick.call(R)},unbind:function(){h.is.bound()&&(h.debug("Removing container bound position on element"),h.remove.offset(),k.removeClass(v.bound).removeClass(v.top).removeClass(v.bottom))},unfix:function(){h.is.fixed()&&(h.debug("Removing fixed position on element"),h.remove.offset(),k.removeClass(v.fixed).removeClass(v.top).removeClass(v.bottom),p.onUnstick.call(R))},reset:function(){h.debug("Resetting elements position"),h.unbind(),h.unfix(),h.resetCSS(),h.remove.offset(),h.remove.lastScroll()},resetCSS:function(){k.css({width:"",height:""}),r.css({height:""})},setting:function(t,o){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(o===n)return p[t];p[t]=o}},internal:function(t,o){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(o===n)return h[t];h[t]=o}},debug:function(){!p.silent&&p.debug&&(p.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,p.name+":"),h.debug.apply(console,arguments)))},verbose:function(){!p.silent&&p.verbose&&p.debug&&(p.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),h.verbose.apply(console,arguments)))},error:function(){p.silent||(h.error=Function.prototype.bind.call(console.error,console,p.name+":"),h.error.apply(console,arguments))},performance:{log:function(e){var t,o,n;p.performance&&(t=(new Date).getTime(),n=a||t,o=t-n,a=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":o})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,0)},display:function(){var t=p.name+":",o=0;a=!1,clearTimeout(h.performance.timer),e.each(l,function(e,t){o+=t["Execution Time"]}),t+=" "+o+"ms",c&&(t+=" '"+c+"'"),(console.group!==n||console.table!==n)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,o,i){var r,c,a,l=w;return o=o||f,i=R||i,"string"==typeof t&&l!==n&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(o,i){var s=o!=r?i+t[o+1].charAt(0).toUpperCase()+t[o+1].slice(1):t;if(e.isPlainObject(l[s])&&o!=r)l=l[s];else{if(l[s]!==n)return c=l[s],!1;if(!e.isPlainObject(l[i])||o==r)return l[i]!==n&&(c=l[i],!1);l=l[i]}})),e.isFunction(c)?a=c.apply(i,o):c!==n&&(a=c),e.isArray(s)?s.push(a):s!==n?s=[s,a]:a!==n&&(s=a),c}},d?(w===n&&h.initialize(),h.invoke(u)):(w!==n&&w.invoke("destroy"),h.initialize())}),s!==n?s:this},e.fn.sticky.settings={name:"Sticky",namespace:"sticky",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,scrollContext:t,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(e,t,o,n){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.visibility=function(i){var s,r=e(this),c=r.selector||"",a=(new Date).getTime(),l=[],u=arguments[0],d="string"==typeof u,f=[].slice.call(arguments,1),m=r.length,b=0;return r.each(function(){var r,g,h,p,v=e.isPlainObject(i)?e.extend(!0,{},e.fn.visibility.settings,i):e.extend({},e.fn.visibility.settings),x=v.className,y=v.namespace,C=v.error,S=v.metadata,k="."+y,P="module-"+y,T=e(t),w=e(this),A=e(v.context),R=(w.selector||"",w.data(P)),F=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){
setTimeout(e,0)},O=this,z=!1;p={initialize:function(){p.debug("Initializing",v),p.setup.cache(),p.should.trackChanges()&&("image"==v.type&&p.setup.image(),"fixed"==v.type&&p.setup.fixed(),v.observeChanges&&p.observeChanges(),p.bind.events()),p.save.position(),p.is.visible()||p.error(C.visible,w),v.initialCheck&&p.checkVisibility(),p.instantiate()},instantiate:function(){p.debug("Storing instance",p),w.data(P,p),R=p},destroy:function(){p.verbose("Destroying previous module"),h&&h.disconnect(),g&&g.disconnect(),T.off("load"+k,p.event.load).off("resize"+k,p.event.resize),A.off("scroll"+k,p.event.scroll).off("scrollchange"+k,p.event.scrollchange),"fixed"==v.type&&(p.resetFixed(),p.remove.placeholder()),w.off(k).removeData(P)},observeChanges:function(){"MutationObserver"in t&&(g=new MutationObserver(p.event.contextChanged),h=new MutationObserver(p.event.changed),g.observe(o,{childList:!0,subtree:!0}),h.observe(O,{childList:!0,subtree:!0}),p.debug("Setting up mutation observer",h))},bind:{events:function(){p.verbose("Binding visibility events to scroll and resize"),v.refreshOnLoad&&T.on("load"+k,p.event.load),T.on("resize"+k,p.event.resize),A.off("scroll"+k).on("scroll"+k,p.event.scroll).on("scrollchange"+k,p.event.scrollchange)}},event:{changed:function(e){p.verbose("DOM tree modified, updating visibility calculations"),p.timer=setTimeout(function(){p.verbose("DOM tree modified, updating sticky menu"),p.refresh()},100)},contextChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==O||e(t).find(O).length>0)&&(p.debug("Element removed from DOM, tearing down events"),p.destroy())})})},resize:function(){p.debug("Window resized"),v.refreshOnResize&&F(p.refresh)},load:function(){p.debug("Page finished loading"),F(p.refresh)},scroll:function(){v.throttle?(clearTimeout(p.timer),p.timer=setTimeout(function(){A.triggerHandler("scrollchange"+k,[A.scrollTop()])},v.throttle)):F(function(){A.triggerHandler("scrollchange"+k,[A.scrollTop()])})},scrollchange:function(e,t){p.checkVisibility(t)}},precache:function(t,n){t instanceof Array||(t=[t]);for(var i=t.length,s=0,r=[],c=o.createElement("img"),a=function(){s++,s>=t.length&&e.isFunction(n)&&n()};i--;)c=o.createElement("img"),c.onload=a,c.onerror=a,c.src=t[i],r.push(c)},enableCallbacks:function(){p.debug("Allowing callbacks to occur"),z=!1},disableCallbacks:function(){p.debug("Disabling all callbacks temporarily"),z=!0},should:{trackChanges:function(){return d?(p.debug("One time query, no need to bind events"),!1):(p.debug("Callbacks being attached"),!0)}},setup:{cache:function(){p.cache={occurred:{},screen:{},element:{}}},image:function(){var e=w.data(S.src);e&&(p.verbose("Lazy loading image",e),v.once=!0,v.observeChanges=!1,v.onOnScreen=function(){p.debug("Image on screen",O),p.precache(e,function(){p.set.image(e,function(){b++,b==m&&v.onAllLoaded.call(this),v.onLoad.call(this)})})})},fixed:function(){p.debug("Setting up fixed"),v.once=!1,v.observeChanges=!1,v.initialCheck=!0,v.refreshOnLoad=!0,i.transition||(v.transition=!1),p.create.placeholder(),p.debug("Added placeholder",r),v.onTopPassed=function(){p.debug("Element passed, adding fixed position",w),p.show.placeholder(),p.set.fixed(),v.transition&&e.fn.transition!==n&&w.transition(v.transition,v.duration)},v.onTopPassedReverse=function(){p.debug("Element returned to position, removing fixed",w),p.hide.placeholder(),p.remove.fixed()}}},create:{placeholder:function(){p.verbose("Creating fixed position placeholder"),r=w.clone(!1).css("display","none").addClass(x.placeholder).insertAfter(w)}},show:{placeholder:function(){p.verbose("Showing placeholder"),r.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){p.verbose("Hiding placeholder"),r.css("display","none").css("visibility","")}},set:{fixed:function(){p.verbose("Setting element to fixed position"),w.addClass(x.fixed).css({position:"fixed",top:v.offset+"px",left:"auto",zIndex:v.zIndex}),v.onFixed.call(O)},image:function(t,o){w.attr("src",t),v.transition?e.fn.transition!==n?w.transition(v.transition,v.duration,o):w.fadeIn(v.duration,o):w.show()}},is:{onScreen:function(){var e=p.get.elementCalculations();return e.onScreen},offScreen:function(){var e=p.get.elementCalculations();return e.offScreen},visible:function(){return!(!p.cache||!p.cache.element)&&!(0===p.cache.element.width&&0===p.cache.element.offset.top)}},refresh:function(){p.debug("Refreshing constants (width/height)"),"fixed"==v.type&&p.resetFixed(),p.reset(),p.save.position(),v.checkOnRefresh&&p.checkVisibility(),v.onRefresh.call(O)},resetFixed:function(){p.remove.fixed(),p.remove.occurred()},reset:function(){p.verbose("Resetting all cached values"),e.isPlainObject(p.cache)&&(p.cache.screen={},p.cache.element={})},checkVisibility:function(e){p.verbose("Checking visibility of element",p.cache.element),!z&&p.is.visible()&&(p.save.scroll(e),p.save.calculations(),p.passed(),p.passingReverse(),p.topVisibleReverse(),p.bottomVisibleReverse(),p.topPassedReverse(),p.bottomPassedReverse(),p.onScreen(),p.offScreen(),p.passing(),p.topVisible(),p.bottomVisible(),p.topPassed(),p.bottomPassed(),v.onUpdate&&v.onUpdate.call(O,p.get.elementCalculations()))},passed:function(t,o){var i=p.get.elementCalculations();if(t&&o)v.onPassed[t]=o;else{if(t!==n)return p.get.pixelsPassed(t)>i.pixelsPassed;i.passing&&e.each(v.onPassed,function(e,t){i.bottomVisible||i.pixelsPassed>p.get.pixelsPassed(e)?p.execute(t,e):v.once||p.remove.occurred(t)})}},onScreen:function(e){var t=p.get.elementCalculations(),o=e||v.onOnScreen,i="onScreen";if(e&&(p.debug("Adding callback for onScreen",e),v.onOnScreen=e),t.onScreen?p.execute(o,i):v.once||p.remove.occurred(i),e!==n)return t.onOnScreen},offScreen:function(e){var t=p.get.elementCalculations(),o=e||v.onOffScreen,i="offScreen";if(e&&(p.debug("Adding callback for offScreen",e),v.onOffScreen=e),t.offScreen?p.execute(o,i):v.once||p.remove.occurred(i),e!==n)return t.onOffScreen},passing:function(e){var t=p.get.elementCalculations(),o=e||v.onPassing,i="passing";if(e&&(p.debug("Adding callback for passing",e),v.onPassing=e),t.passing?p.execute(o,i):v.once||p.remove.occurred(i),e!==n)return t.passing},topVisible:function(e){var t=p.get.elementCalculations(),o=e||v.onTopVisible,i="topVisible";if(e&&(p.debug("Adding callback for top visible",e),v.onTopVisible=e),t.topVisible?p.execute(o,i):v.once||p.remove.occurred(i),e===n)return t.topVisible},bottomVisible:function(e){var t=p.get.elementCalculations(),o=e||v.onBottomVisible,i="bottomVisible";if(e&&(p.debug("Adding callback for bottom visible",e),v.onBottomVisible=e),t.bottomVisible?p.execute(o,i):v.once||p.remove.occurred(i),e===n)return t.bottomVisible},topPassed:function(e){var t=p.get.elementCalculations(),o=e||v.onTopPassed,i="topPassed";if(e&&(p.debug("Adding callback for top passed",e),v.onTopPassed=e),t.topPassed?p.execute(o,i):v.once||p.remove.occurred(i),e===n)return t.topPassed},bottomPassed:function(e){var t=p.get.elementCalculations(),o=e||v.onBottomPassed,i="bottomPassed";if(e&&(p.debug("Adding callback for bottom passed",e),v.onBottomPassed=e),t.bottomPassed?p.execute(o,i):v.once||p.remove.occurred(i),e===n)return t.bottomPassed},passingReverse:function(e){var t=p.get.elementCalculations(),o=e||v.onPassingReverse,i="passingReverse";if(e&&(p.debug("Adding callback for passing reverse",e),v.onPassingReverse=e),t.passing?v.once||p.remove.occurred(i):p.get.occurred("passing")&&p.execute(o,i),e!==n)return!t.passing},topVisibleReverse:function(e){var t=p.get.elementCalculations(),o=e||v.onTopVisibleReverse,i="topVisibleReverse";if(e&&(p.debug("Adding callback for top visible reverse",e),v.onTopVisibleReverse=e),t.topVisible?v.once||p.remove.occurred(i):p.get.occurred("topVisible")&&p.execute(o,i),e===n)return!t.topVisible},bottomVisibleReverse:function(e){var t=p.get.elementCalculations(),o=e||v.onBottomVisibleReverse,i="bottomVisibleReverse";if(e&&(p.debug("Adding callback for bottom visible reverse",e),v.onBottomVisibleReverse=e),t.bottomVisible?v.once||p.remove.occurred(i):p.get.occurred("bottomVisible")&&p.execute(o,i),e===n)return!t.bottomVisible},topPassedReverse:function(e){var t=p.get.elementCalculations(),o=e||v.onTopPassedReverse,i="topPassedReverse";if(e&&(p.debug("Adding callback for top passed reverse",e),v.onTopPassedReverse=e),t.topPassed?v.once||p.remove.occurred(i):p.get.occurred("topPassed")&&p.execute(o,i),e===n)return!t.onTopPassed},bottomPassedReverse:function(e){var t=p.get.elementCalculations(),o=e||v.onBottomPassedReverse,i="bottomPassedReverse";if(e&&(p.debug("Adding callback for bottom passed reverse",e),v.onBottomPassedReverse=e),t.bottomPassed?v.once||p.remove.occurred(i):p.get.occurred("bottomPassed")&&p.execute(o,i),e===n)return!t.bottomPassed},execute:function(e,t){var o=p.get.elementCalculations(),n=p.get.screenCalculations();e=e||!1,e&&(v.continuous?(p.debug("Callback being called continuously",t,o),e.call(O,o,n)):p.get.occurred(t)||(p.debug("Conditions met",t,o),e.call(O,o,n))),p.save.occurred(t)},remove:{fixed:function(){p.debug("Removing fixed position"),w.removeClass(x.fixed).css({position:"",top:"",left:"",zIndex:""}),v.onUnfixed.call(O)},placeholder:function(){p.debug("Removing placeholder content"),r&&r.remove()},occurred:function(e){if(e){var t=p.cache.occurred;t[e]!==n&&t[e]===!0&&(p.debug("Callback can now be called again",e),p.cache.occurred[e]=!1)}else p.cache.occurred={}}},save:{calculations:function(){p.verbose("Saving all calculations necessary to determine positioning"),p.save.direction(),p.save.screenCalculations(),p.save.elementCalculations()},occurred:function(e){e&&(p.cache.occurred[e]!==n&&p.cache.occurred[e]===!0||(p.verbose("Saving callback occurred",e),p.cache.occurred[e]=!0))},scroll:function(e){e=e+v.offset||A.scrollTop()+v.offset,p.cache.scroll=e},direction:function(){var e,t=p.get.scroll(),o=p.get.lastScroll();return e=t>o&&o?"down":t<o&&o?"up":"static",p.cache.direction=e,p.cache.direction},elementPosition:function(){var e=p.cache.element,t=p.get.screenSize();return p.verbose("Saving element position"),e.fits=e.height<t.height,e.offset=w.offset(),e.width=w.outerWidth(),e.height=w.outerHeight(),p.cache.element=e,e},elementCalculations:function(){var e=p.get.screenCalculations(),t=p.get.elementPosition();return v.includeMargin?(t.margin={},t.margin.top=parseInt(w.css("margin-top"),10),t.margin.bottom=parseInt(w.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topVisible=e.bottom>=t.top,t.topPassed=e.top>=t.top,t.bottomVisible=e.bottom>=t.bottom,t.bottomPassed=e.top>=t.bottom,t.pixelsPassed=0,t.percentagePassed=0,t.onScreen=t.topVisible&&!t.bottomPassed,t.passing=t.topPassed&&!t.bottomPassed,t.offScreen=!t.onScreen,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),p.cache.element=t,p.verbose("Updated element calculations",t),t},screenCalculations:function(){var e=p.get.scroll();return p.save.direction(),p.cache.screen.top=e,p.cache.screen.bottom=e+p.cache.screen.height,p.cache.screen},screenSize:function(){p.verbose("Saving window position"),p.cache.screen={height:A.height()}},position:function(){p.save.screenSize(),p.save.elementPosition()}},get:{pixelsPassed:function(e){var t=p.get.elementCalculations();return e.search("%")>-1?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return p.cache.occurred!==n&&(p.cache.occurred[e]||!1)},direction:function(){return p.cache.direction===n&&p.save.direction(),p.cache.direction},elementPosition:function(){return p.cache.element===n&&p.save.elementPosition(),p.cache.element},elementCalculations:function(){return p.cache.element===n&&p.save.elementCalculations(),p.cache.element},screenCalculations:function(){return p.cache.screen===n&&p.save.screenCalculations(),p.cache.screen},screenSize:function(){return p.cache.screen===n&&p.save.screenSize(),p.cache.screen},scroll:function(){return p.cache.scroll===n&&p.save.scroll(),p.cache.scroll},lastScroll:function(){return p.cache.screen===n?(p.debug("First scroll event, no last scroll could be found"),!1):p.cache.screen.top}},setting:function(t,o){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(o===n)return v[t];v[t]=o}},internal:function(t,o){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(o===n)return p[t];p[t]=o}},debug:function(){!v.silent&&v.debug&&(v.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,v.name+":"),p.debug.apply(console,arguments)))},verbose:function(){!v.silent&&v.verbose&&v.debug&&(v.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),p.verbose.apply(console,arguments)))},error:function(){v.silent||(p.error=Function.prototype.bind.call(console.error,console,v.name+":"),p.error.apply(console,arguments))},performance:{log:function(e){var t,o,n;v.performance&&(t=(new Date).getTime(),n=a||t,o=t-n,a=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":o})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var t=v.name+":",o=0;a=!1,clearTimeout(p.performance.timer),e.each(l,function(e,t){o+=t["Execution Time"]}),t+=" "+o+"ms",c&&(t+=" '"+c+"'"),(console.group!==n||console.table!==n)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,o,i){var r,c,a,l=R;return o=o||f,i=O||i,"string"==typeof t&&l!==n&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(o,i){var s=o!=r?i+t[o+1].charAt(0).toUpperCase()+t[o+1].slice(1):t;if(e.isPlainObject(l[s])&&o!=r)l=l[s];else{if(l[s]!==n)return c=l[s],!1;if(!e.isPlainObject(l[i])||o==r)return l[i]!==n?(c=l[i],!1):(p.error(C.method,t),!1);l=l[i]}})),e.isFunction(c)?a=c.apply(i,o):c!==n&&(a=c),e.isArray(s)?s.push(a):s!==n?s=[s,a]:a!==n&&(s=a),c}},d?(R===n&&p.initialize(),R.save.scroll(),R.save.calculations(),p.invoke(u)):(R!==n&&R.invoke("destroy"),p.initialize())}),s!==n?s:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:t,throttle:!1,type:!1,zIndex:"10",transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);